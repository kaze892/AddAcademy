<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../assets/css/styling.css">
    <link rel="stylesheet" href="../assets/css/header.css">
    <link rel="shortcut icon" href="../assets/img/demo/home_icon.png">
    <link rel="stylesheet" href="../assets/css/plugins.min.css">
    <title>第12章　java修飾子</title>
</head>
<body>


    <div class="ms-hero-page ms-hero-img-headbg ms-hero-bg-primary mb-6">
        <div class="container">
            <a style="position:absolute; top:0px; left:auto;" href="../main-index.html"><img style="height: 60px;"src="../assets/img/demo/home_icon.png" alt=""></a>
            <div class="text-center">
                <h1 class="head1 animated zoomInDown animation-delay-5">第12章　java修飾子</h1>
                <p class="head2 animated fadeInUp animation-delay-7">
                    修飾子の種類やその挙動について説明します。</p>
                  <a class="home-btn btn-raised btn-warning animated zoomInDown animation-delay-20"style=" color:white !important;"href="../main-index.html" >HOMEPAGE</a>
            </div>
        </div>
    </div><br>
                
<!--article-container-->
<div class="article-container animated fadeInLeft animation-delay-15" style="margin: 0 auto; max-width: 1024px;">


    <!--JAVA構文-->
    <h1 class="article-container animated bounceInRight animation-delay-20">java修飾子</h1>
    <hr style="height:0.5px;background-color:#333;">


<!--メンバ変数に対して、コンパイラが何らかの最適化を施すことを防止します。-->
<button type="button" class="collapsible">1.メンバ変数定義時に付与できる修飾子</button>
<div class="collapse-content">
	<p>※ 修飾子は上から定義する順に並んでいます。<br>
	<table border="1" width="500">
		<tr>
			<th align="center" width="120">修飾子</th>
			<th align="center">説明</th>
		</tr>
		<tr>
			<td>アクセス修飾子</td>
			<td>アクセス修飾子を指定することにより、メンバ変数を他のクラスから参照できないなどを指定できるようになります。</td>
		</tr>
		<tr>
			<td>static</td>
			<td>メンバ変数がインスタンス変数ではなく、<b>クラス変数</b>であることを表します。</td>
		</tr>
		<tr>
			<td>final</td>
			<td>finalをつけると変数に一度値が生成されるとその値を変更できず定数として扱われます。</td>
		</tr>
		<tr>
			<td>transient</td>
			<td>シリアライズすべきでないメンバ変数を表します。</td>
		</tr>
		<tr>
			<td>volatile</td>
			<td>メンバ変数に対して、コンパイラが何らかの最適化を施すことを防止します。</td>
		</tr>
	</table>
	</p>	
</div>

	

	
	
	
	
<!--2.メソッド定義時に付与できる修飾子-->
<button type="button" class="collapsible">2.メソッド定義時に付与できる修飾子</button>
<div class="collapse-content">
<p>※ 修飾子は上から定義する順に並んでいます。<br>
	<table border="1" width="500">
		<tr>
			<th align="center" width="120">修飾子</th>
			<th align="center">説明</th>
		</tr>
		<tr>
			<td>アクセス修飾子</td>
			<td>アクセス修飾子を指定することにより、メソッドを他のクラスから参照できないなどを指定できるようになります。</td>
		</tr>
		<tr>
			<td>static</td>
			<td>メソッドがインスタンスメソッドではなく、<b>クラスメソッド</b>であることを表します。</td>
		</tr>
		<tr>
			<td>abstract</td>
			<td>処理を実装しないメソッド（抽象メソッド）を生成したい時に使用します。</td>
		</tr>
		<tr>
			<td>final</td>
			<td>finalを使用した場合、そのメソッドはサブクラスでオーバーライドすることができません。</td>
		</tr>
		<tr>
			<td>native</td>
			<td>C言語など他の言語で記述されたプログラムをJavaプログラム内で使用したい時に使います。使用したいプログラムにnativeを付け定義します。</td>
		</tr>
		<tr>
			<td>synchronized</td>
			<td>スレッドを複数同時に走らせる際に同じデータに対し複数のメソッドが呼び出される場合があります。そのような場合、安全にメソッドが実行されるためにsynchronizedを使用します。</td>
		</tr>
	</table>
</p>
	</div>
<br>	
	
	
	
	
<h2 style="font-weight: 400;">3.アクセス修飾子</h2>
<!--3-1.アクセス修飾子の種類-->
<button type="button" class="collapsible">3-1.アクセス修飾子の種類</button>
<div class="collapse-content">
	<p>指定できるアクセス修飾子を以下に記載します。<br>
クラス定義時に指定できるアクセス修飾子は「public」と「指定無し（デフォルト）」のみです。<br>
<table border="1" width="600">
	<tr align="center">
		<th align="center" width="120">アクセス修飾子</th>
		<th align="center" width="120">クラス</th>
		<th align="center" width="120">メンバ変数</th>
		<th align="center" width="120">メソッド</th>
		<th align="center" width="120">コンストラクタ</th>
	</tr>
	<tr>
		<td>public</td>
		<td>○</td>
		<td>○</td>
		<td>○</td>
		<td>○</td>
	</tr>
	<tr>
		<td>protected</td>
		<td>×</td>
		<td>○</td>
		<td>○</td>
		<td>○</td>
	</tr>
	<tr>
		<td>指定無し（デフォルト）</td>
		<td>○</td>
		<td>○</td>
		<td>○</td>
		<td>○</td>
	</tr>
	<tr>
		<td>private</td>
		<td>×</td>
		<td>○</td>
		<td>○</td>
		<td>○</td>
	</tr>
</table>
	
	
	</p>
	</div>
	
	
	
	
<!--3-2.アクセス修飾子の使用方法-->
<button type="button" class="collapsible">3-2.アクセス修飾子の使用方法</button>
<div class="collapse-content">
	<p></p><ul>
		<li><b>oublic</b> と指定すると、どこからでも参照できます。</li>
		<li><b>protected</b> と指定すると、そのクラスを継承したサブクラスからしか参照できません。</li>
		<li><b>修飾子を省略する</b>と、同じパッケージのクラスからしか参照できません。</li>
		<li><b> private</b>と指定すると、そのクラスの中からしか参照できません。</li>
	</ul>
	<table border="1" width="800">
		<tr align="center">
			<th rowspan="2" width="180">アクセス修飾子</th>
			<th colspan="3" width="372">自パッケージ</th>
			<th colspan="2" width="248">他パッケージ</th>
		</tr>
		<tr>
			<td width="124">自クラス</td>
			<td width="124">サブクラス</td>
			<td width="124">他クラス</td>
			<td width="124">サブクラス</td>
			<td width="124">他クラス</td>
		</tr>
		<tr>
			<td>public</td>
			<td>○</td>
			<td>○</td>
			<td>○</td>
			<td>○</td>
			<td>○</td>
		</tr>
		<tr>
			<td>protected</td>
			<td>○</td>
			<td>○</td>
			<td>○</td>
			<td>○</td>
			<td>×</td>
		</tr>
		<tr>
			<td>指定無し（デフォルト）</td>
			<td>○</td>
			<td>○</td>
			<td>○</td>
			<td>×</td>
			<td>×</td>
		</tr>
		<tr>
			<td>private</td>
			<td>○</td>
			<td>×</td>
			<td>×</td>
			<td>×</td>
			<td>×</td>
		</tr>
	</table>
	<br>
	<b>例</b>[Television.java]<br>
	<pre class="prettyprint linenums">
package JSample;
public class Television{
	private int channelNo;
	
	private void setChannel(int newChannelNo){
		channelNo = newChannelNo;
		System.out.println("新しいChannelNo=" + channelNo);
	}
}</pre>
	<br>
[JSample12_1.java]<br>
<pre class="prettyprint linenums">
package JSample;

public class JSample12_1{
	public static void main(String args[]){
		Television tv1 = new Television();
		tv1.setChannel(1);
	}
}</pre>
<br>
<b>実行結果</b>(コンパイルの段階でエラーとなります。)<br>
	Exception in thread "main" java.lang.Error: Unresolved compilation problem:<br>
メソッド setChannel(int) は型 Television で不可視です<br>
<br>
at JSample.JSample116.main(JSample116.java:7)<br>
<br>
この例では、TelevisionクラスのprivateメソッドのためJSampleクラスからはアクセスできません。<br>
そのためコンパイルエラーとなります。<Br>
	</p>
</div>
<br>




<!--4.static-->
<button type="button" class="collapsible">4.static</button>
<div class="collapse-content">
	<p>メンバ変数、メソッドを定義する際、static修飾子が付与されたものを<b>クラス変数</b>、<b>クラスメソッド</b>、static修飾子が付与されていないものを<b>インスタンス変数</b>、<b>インスタンスメソッド</b>といいます。<br>
	<b>mainメソッド</b>はインスタンスを生成する前に実行する必要があるため、static修飾子を付けて定義しています。<br>
<br>
		<b>static変数</b>とはクラスに1つだけ存在する変数です。<br>
オブジェクトごとに存在するインスタンス変数とは異なり、オブジェクトを生成しなくてもアクセスできます。<br>
static変数はクラス単位で管理したいときに便利な変数です。<br>
<br>
		<b>例</b><br>
クラス変数の参照方法を例示します。<br>
[ExClass.java]<br>
<pre class="prettyprint linenums">
package JSample;
class ExClass{
	static int standardSize;
	void setSize(int num) {
		standardSize = num;
	}
}</pre>
	<br>
	[JSample12_2.java]<br>
<pre class="prettyprint linenums">
class JSample12_2 {
	public static void main(String[] args) {
		ExClass ins1 = new ExClass();
		ins1.setSize(100);
		
		ExClass ins2 = new ExClass();
		ins2.setSize(300);
		
		System.out.println(ins1.standardSize);
		System.out.println(ins2.standardSize);
		System.out.println(ExClass.standardSize);
	}
}</pre>
	<br>
	<b>実行結果</b>
300<br>
300<br>
300<br>
<br>
クラス変数は、インスタンス間で値を共有するため、一番最後に設定された300が表示されます。<br>
<br>
<br>
staticメンバーを利用する場合の注意点を、以下にまとめておきます。<br>
（1）staticメソッドからthisにはアクセスできない。<br>
staticメソッドでは、いわゆるインスタンスはありませんので、当然、インスタンスを示すthisにもアクセスできません。<br>
（2）staticフィールドの利用は限定的。<br>
staticフィールドは、インスタンスフィールドとは違い、内容を変更した場合にもすべてのインスタンスに影響します。<br>
	<br>
	<b>例</b><br>
クラス変数、クラスメソッドの参照方法を例示します。<br>
	[JSample12_3.java]<br>
<pre class="prettyprint linenums">
package JSample;
class JSample12_3 {
	static String classV = "クラス変数classV";
	
	static void classM() {
		System.out.println("クラスメソッドclassM");
	}
	
	public static void main(String[] args) {
		System.out.println(JSample12_3.classV);
		JSample12_3.classM();
	}
}</pre>
<br>
	<b>実行結果</b><br>
	クラス変数classV<br>
クラスメソッドclassM <br>
	</p>
</div>
<br>



<h2 style="font-weight: 400;">練習</h2>
<!--問題1-->
<button type="button" class="collapsible">問題1</button>
<div class="collapse-content">
<p><b>問題</b> [AccessTest.java]<br>
<pre class="prettyprint linenums">
package test;

public class AccessTest {
	public void a(){
		System.out.println("public");
	}
	protected void b(){
		System.out.println("protected");
	}
	void c(){
		System.out.println("修飾子なし");
	}
	private void d(){
		System.out.println("private");
	}
}</pre>
	[JEx12_1.java]をコンパイルしてみましょう。<br>
<pre class="prettyprint linenums">
package JSample;
import test.AccessTest;

public class JEx12_1{
	public static void main(String[] args){
		AccessTest at = new AccessTest();
		at.a();
		at.b();
		at.c();
		at.d();
	}
}</pre>
	</p>
</div>


<!--問題2-->
<button type="button" class="collapsible">問題2</button>
<div class="collapse-content">
<p><b>問題</b> [JEx12_2.java]<br>
<pre class="prettyprint linenums">
public class JEx12_2 {
	public static void main(String[] args) {
		Dog dog1 = new Dog(3);
		Dog dog2 = new Dog(5);
		System.out.println(dog1.age);
	}
}

class Dog {
	static int age;
	
	public Dog(int age) {
		this.age = age;
	}
}</pre>
	<b>実行結果を選択してください</b><br>
	<ol>
	<li>「3」と表示</li>
	<li>「5」と表示</li>
	<li>何も表示されない</li>
	<li>コンパイルエラー</li>
	<li>実行時エラー</li>
	</ol>
	</p>
</div>

	
	
	
	
	<!--article-container-->

    <!--back button-->
    <div class="text-center"><br>
       <a href="#" onClick="javascript:history.back(-1);" class="return-btn btn-raised btn-info animated fadeIn animation-delay-30">戻る</a>
    </div><br>

<script src="../assets/js/collapse.js"></script>  
<script src="../../cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?skin=desert"/></script>  
  
</body>
</html>
